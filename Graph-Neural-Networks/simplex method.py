from scipy.optimize import linprog

# 目标函数系数
obj = [20, 10, 12, 16, 22, 9, 9, 18, 23, 13, 10, 25]

# 不等式约束条件系数矩阵
lhs_eq = [[1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0],
          [0, 0, 0, 0, 1, 1, 1, 1, 0, 0, 0, 0],
          [0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1],
          [1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0],
          [0, 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0],
          [0, 0, 1, 0, 0, 0, 1, 0, 0, 0, 1, 0],
          [0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0, 1]]

# 不等式约束条件右边系数
rhs_eq = [500, 600, 250, 600, 400, 200, 150]

# 变量下限
bnd = [(0, None)] * 12

# 求解
opt = linprog(c=obj, A_eq=lhs_eq, b_eq=rhs_eq, bounds=bnd, method="simplex")

# 输出结果
print("最小总运费为：", opt.fun)
print("最优运输方案为：")
print("产地1 -> 市场1:", opt.x[0])
print("产地1 -> 市场2:", opt.x[1])
print("产地1 -> 市场3:", opt.x[2])
print("产地1 -> 市场4:", opt.x[3])
print("产地2 -> 市场1:", opt.x[4])
print("产地2 -> 市场2:", opt.x[5])
print("产地2 -> 市场3:", opt.x[6])
print("产地2 -> 市场4:", opt.x[7])
print("产地3 -> 市场1:", opt.x[8])
print("产地3 -> 市场2:", opt.x[9])
print("产地3 -> 市场3:", opt.x[10])
print("产地3 -> 市场4:", opt.x[11])